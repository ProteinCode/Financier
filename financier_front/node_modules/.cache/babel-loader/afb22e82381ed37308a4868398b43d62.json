{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { useRouter } from 'vue-router';\nexport default {\n  setup() {\n    const $router = useRouter();\n    const urlClick = () => {\n      $router.push({\n        path: '/'\n      });\n    };\n    return {\n      urlClick\n    };\n  },\n  name: \"Login\",\n  data() {\n    return {\n      loginForm: {\n        loginName: \"\",\n        loginPasswd: \"\"\n      },\n      responseResult: [],\n      errorInfo: \"\",\n      saltData: \"22ba2ce7e5203e6e885b8fc68a020851\"\n    };\n  },\n  mounted() {\n    this.init();\n  },\n  methods: {\n    init() {\n      this.$axios.post('/loginStatus').then(successResponse => {\n        if (successResponse.data.loginState === 200) {\n          this.$message(\"您已登录该网站\");\n          this.urlClick();\n        }\n      });\n    },\n    login() {\n      if (this.loginForm.loginName === \"\") {\n        this.errorInfo = \"请输入账号\";\n      } else {\n        if (this.loginForm.loginPasswd === \"\") {\n          this.errorInfo = \"请输入密码\";\n        } else {\n          this.$axios.post('/loginUser', {\n            userName: this.loginForm.loginName,\n            password: this.$md5(this.$md5(this.loginForm.loginPasswd) + this.saltData)\n          }).then(successResponse => {\n            if (successResponse.data.loginState === 200) {\n              this.urlClick();\n            } else {\n              this.errorInfo = \"账号密码错误\";\n            }\n          }).catch(failResponse => {\n            this.errorInfo = \"服务器异常，请稍后\";\n          });\n        }\n      }\n    },\n    clearError() {\n      this.errorInfo = \"\";\n    }\n  }\n};","map":{"version":3,"mappings":";AAwCA,SAASA,SAAQ,QAAS,YAAY;AACtC,eAAe;EACbC,KAAK,GAAE;IACL,MAAMC,OAAM,GAAIF,SAAS,EAAE;IAC3B,MAAMG,QAAQ,GAAE,MAAM;MACpBD,OAAO,CAACE,IAAI,CAAC;QAACC,IAAI,EAAC;MAAG,CAAC;IACzB;IACA,OAAM;MACJF;IACF;EACF,CAAC;EACDG,IAAI,EAAE,OAAO;EACbC,IAAI,GAAG;IACL,OAAO;MACLC,SAAS,EAAE;QACTC,SAAS,EAAE,EAAE;QACbC,WAAW,EAAE;MACf,CAAC;MACDC,cAAc,EAAE,EAAE;MAClBC,SAAS,EAAE,EAAE;MACbC,QAAQ,EAAC;IACX,CAAC;EACH,CAAC;EACDC,OAAO,GAAE;IACP,IAAI,CAACC,IAAI,EAAC;EACZ,CAAC;EACDC,OAAO,EAAE;IACPD,IAAI,GAAE;MACJ,IAAI,CAACE,MAAM,CAACC,IAAI,CAAC,cAAc,CAAC,CAACC,IAAI,CAACC,eAAc,IAAK;QACvD,IAAIA,eAAe,CAACb,IAAI,CAACc,UAAS,KAAM,GAAG,EAAE;UAC3C,IAAI,CAACC,QAAQ,CAAC,SAAS;UACvB,IAAI,CAACnB,QAAQ,EAAC;QAChB;MACF,CAAC;IACH,CAAC;IACDoB,KAAK,GAAG;MACN,IAAG,IAAI,CAACf,SAAS,CAACC,SAAQ,KAAM,EAAE,EAAE;QAClC,IAAI,CAACG,SAAQ,GAAI,OAAM;MACzB,OAAO;QACL,IAAG,IAAI,CAACJ,SAAS,CAACE,WAAU,KAAM,EAAE,EAAC;UACnC,IAAI,CAACE,SAAQ,GAAI,OAAM;QACzB,OAAO;UACL,IAAI,CAACK,MAAM,CAACC,IAAI,CAAC,YAAY,EAAE;YAC7BM,QAAQ,EAAE,IAAI,CAAChB,SAAS,CAACC,SAAS;YAClCgB,QAAQ,EAAE,IAAI,CAACC,IAAI,CAAC,IAAI,CAACA,IAAI,CAAC,IAAI,CAAClB,SAAS,CAACE,WAAW,CAAC,GAAC,IAAI,CAACG,QAAQ;UACzE,CAAC,EACIM,IAAI,CAACC,eAAc,IAAK;YACvB,IAAIA,eAAe,CAACb,IAAI,CAACc,UAAS,KAAM,GAAG,EAAE;cAC3C,IAAI,CAAClB,QAAQ,EAAC;YAChB,OAAO;cACL,IAAI,CAACS,SAAQ,GAAI,QAAQ;YAC3B;UACF,CAAC,EACAe,KAAK,CAACC,YAAW,IAAK;YACrB,IAAI,CAAChB,SAAQ,GAAI,WAAW;UAC9B,CAAC;QACP;MACF;IACF,CAAC;IACDiB,UAAU,GAAG;MACX,IAAI,CAACjB,SAAQ,GAAI,EAAE;IACrB;EACF;AACF,CAAC","names":["useRouter","setup","$router","urlClick","push","path","name","data","loginForm","loginName","loginPasswd","responseResult","errorInfo","saltData","mounted","init","methods","$axios","post","then","successResponse","loginState","$message","login","userName","password","$md5","catch","failResponse","clearError"],"sourceRoot":"","sources":["/allPublic/studio/MyGithub/repository/Financier/financier_front/src/views/Login.vue"],"sourcesContent":["<!--奇哉至理，常净常清。 @Enrace-->\n<template>\n  <body id=\"login-page\">\n  <el-form class=\"login-container\" label-position=\"left\" label-width=\"0px\">\n    <h3 class=\"login_title\">系统登录</h3>\n    <el-form-item>\n      <el-input\n          @focus=\"clearError\"\n          type=\"text\"\n          v-model=\"loginForm.loginName\"\n          auto-complete=\"off\"\n          placeholder=\"账号\"\n      >\n      </el-input>\n    </el-form-item>\n    <el-form-item>\n      <el-input\n          @focus=\"clearError\"\n          type=\"password\"\n          v-model=\"loginForm.loginPasswd\"\n          auto-complete=\"off\"\n          placeholder=\"密码\"\n      >\n      </el-input>\n      <span class=\"showError\" >{{errorInfo}}</span>\n    </el-form-item>\n    <el-form-item style=\"width: 100%\">\n      <el-button\n          type=\"primary\"\n          style=\"width: 100%;  border: none\"\n          @click = \"login\"\n      >登录\n      </el-button\n      >\n    </el-form-item>\n  </el-form>\n  </body>\n</template>\n\n<script>\nimport { useRouter } from 'vue-router';\nexport default {\n  setup(){\n    const $router = useRouter();\n    const urlClick= () => {\n      $router.push({path:'/'})\n    }\n    return{\n      urlClick\n    }\n  },\n  name: \"Login\",\n  data() {\n    return {\n      loginForm: {\n        loginName: \"\",\n        loginPasswd: \"\",\n      },\n      responseResult: [],\n      errorInfo: \"\",\n      saltData:\"22ba2ce7e5203e6e885b8fc68a020851\",\n    };\n  },\n  mounted(){\n    this.init()\n  },\n  methods: {\n    init(){\n      this.$axios.post('/loginStatus').then(successResponse => {\n        if (successResponse.data.loginState === 200) {\n          this.$message(\"您已登录该网站\")\n          this.urlClick()\n        }\n      })\n    },\n    login() {\n      if(this.loginForm.loginName === \"\") {\n        this.errorInfo = \"请输入账号\"\n      } else {\n        if(this.loginForm.loginPasswd === \"\"){\n          this.errorInfo = \"请输入密码\"\n        } else {\n          this.$axios.post('/loginUser', {\n            userName: this.loginForm.loginName,\n            password: this.$md5(this.$md5(this.loginForm.loginPasswd)+this.saltData)\n          })\n              .then(successResponse => {\n                if (successResponse.data.loginState === 200) {\n                  this.urlClick()\n                } else {\n                  this.errorInfo = \"账号密码错误\";\n                }\n              })\n              .catch(failResponse => {\n                this.errorInfo = \"服务器异常，请稍后\";\n              })\n        }\n      }\n    },\n    clearError() {\n      this.errorInfo = \"\";\n    },\n  }\n};\n</script>\n\n<style scoped>\n#login-page {\n  background: url(\"../assets/bg.jpeg\") no-repeat;\n  background-position: center;\n  height: 100%;\n  width: 100%;\n  background-size: cover;\n  position: fixed;\n}\n\n.login-container {\n  border-radius: 15px;\n  background-clip: padding-box;\n  margin: 90px auto;\n  width: 350px;\n  padding: 35px 35px 15px 35px;\n  background: #f7fad8;\n}\n\n.login_title {\n  margin: 0 auto 40px auto;\n  text-align: center;\n  color: #000000;\n}\n\n.showError {\n  color: red;\n  font-size: 16px;\n}\n</style>\n\n"]},"metadata":{},"sourceType":"module"}