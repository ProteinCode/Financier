{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-26084dc2\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  id: \"login-page\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", {\n  class: \"login_title\"\n}, \"系统登录\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"showError\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  return _openBlock(), _createElementBlock(\"body\", _hoisted_1, [_createVNode(_component_el_form, {\n    class: \"login-container\",\n    \"label-position\": \"left\",\n    \"label-width\": \"0px\"\n  }, {\n    default: _withCtx(() => [_hoisted_2, _createVNode(_component_el_form_item, null, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        onFocus: $options.clearError,\n        type: \"text\",\n        modelValue: $data.loginForm.loginName,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.loginForm.loginName = $event),\n        \"auto-complete\": \"off\",\n        placeholder: \"账号\"\n      }, null, 8 /* PROPS */, [\"onFocus\", \"modelValue\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, null, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        onFocus: $options.clearError,\n        type: \"password\",\n        modelValue: $data.loginForm.loginPasswd,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.loginForm.loginPasswd = $event),\n        \"auto-complete\": \"off\",\n        placeholder: \"密码\"\n      }, null, 8 /* PROPS */, [\"onFocus\", \"modelValue\"]), _createElementVNode(\"span\", _hoisted_3, _toDisplayString($data.errorInfo), 1 /* TEXT */)]),\n\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, {\n      style: {\n        \"width\": \"100%\"\n      }\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_button, {\n        type: \"primary\",\n        style: {\n          \"width\": \"100%\",\n          \"border\": \"none\"\n        },\n        onClick: $options.login\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"登录 \")]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"])]),\n      _: 1 /* STABLE */\n    })]),\n\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"mappings":";;;EAEQA,EAAE,EAAC;AAAY;gEAEnBC,oBAAiC;EAA7BC,KAAK,EAAC;AAAa,GAAC,MAAI;;EAoBpBA,KAAK,EAAC;AAAW;;;;;;uBAtB3BC,oBAkCO,QAlCPC,UAkCO,GAjCPC,aAgCUC;IAhCDJ,KAAK,EAAC,iBAAiB;IAAC,gBAAc,EAAC,MAAM;IAAC,aAAW,EAAC;;sBACjE,MAAiC,CAAjCK,UAAiC,EACjCF,aASeG;wBARb,MAOW,CAPXH,aAOWI;QANNC,OAAK,EAAEC,mBAAU;QAClBC,IAAI,EAAC,MAAM;oBACFC,eAAS,CAACC,SAAS;mEAAnBD,eAAS,CAACC,SAAS;QAC5B,eAAa,EAAC,KAAK;QACnBC,WAAW,EAAC;;;QAIlBV,aAUeG;wBATb,MAOW,CAPXH,aAOWI;QANNC,OAAK,EAAEC,mBAAU;QAClBC,IAAI,EAAC,UAAU;oBACNC,eAAS,CAACG,WAAW;mEAArBH,eAAS,CAACG,WAAW;QAC9B,eAAa,EAAC,KAAK;QACnBD,WAAW,EAAC;0DAGhBd,oBAA6C,QAA7CgB,UAA6C,mBAAlBJ,eAAS;;;QAEtCR,aAQeG;MARDU,KAAmB,EAAnB;QAAA;MAAA;IAAmB;wBAC/B,MAMC,CANDb,aAMCc;QALGP,IAAI,EAAC,SAAS;QACdM,KAAkC,EAAlC;UAAA;UAAA;QAAA,CAAkC;QACjCE,OAAK,EAAIT;;0BACb,MACD,kBADC,KACD","names":["id","_createElementVNode","class","_createElementBlock","_hoisted_1","_createVNode","_component_el_form","_hoisted_2","_component_el_form_item","_component_el_input","onFocus","$options","type","$data","loginName","placeholder","loginPasswd","_hoisted_3","style","_component_el_button","onClick"],"sourceRoot":"","sources":["/allPublic/studio/MyGithub/repository/Financier/financier_front/src/views/Login.vue"],"sourcesContent":["<!--奇哉至理，常净常清。 @Enrace-->\n<template>\n  <body id=\"login-page\">\n  <el-form class=\"login-container\" label-position=\"left\" label-width=\"0px\">\n    <h3 class=\"login_title\">系统登录</h3>\n    <el-form-item>\n      <el-input\n          @focus=\"clearError\"\n          type=\"text\"\n          v-model=\"loginForm.loginName\"\n          auto-complete=\"off\"\n          placeholder=\"账号\"\n      >\n      </el-input>\n    </el-form-item>\n    <el-form-item>\n      <el-input\n          @focus=\"clearError\"\n          type=\"password\"\n          v-model=\"loginForm.loginPasswd\"\n          auto-complete=\"off\"\n          placeholder=\"密码\"\n      >\n      </el-input>\n      <span class=\"showError\" >{{errorInfo}}</span>\n    </el-form-item>\n    <el-form-item style=\"width: 100%\">\n      <el-button\n          type=\"primary\"\n          style=\"width: 100%;  border: none\"\n          @click = \"login\"\n      >登录\n      </el-button\n      >\n    </el-form-item>\n  </el-form>\n  </body>\n</template>\n\n<script>\nimport { useRouter } from 'vue-router';\nexport default {\n  setup(){\n    const $router = useRouter();\n    const urlClick= () => {\n      $router.push({path:'/'})\n    }\n    return{\n      urlClick\n    }\n  },\n  name: \"Login\",\n  data() {\n    return {\n      loginForm: {\n        loginName: \"\",\n        loginPasswd: \"\",\n      },\n      responseResult: [],\n      errorInfo: \"\",\n      saltData:\"22ba2ce7e5203e6e885b8fc68a020851\",\n    };\n  },\n  mounted(){\n    this.init()\n  },\n  methods: {\n    init(){\n      this.$axios.post('/loginStatus').then(successResponse => {\n        if (successResponse.data.loginState === 200) {\n          this.$message(\"您已登录该网站\")\n          this.urlClick()\n        }\n      })\n    },\n    login() {\n      if(this.loginForm.loginName === \"\") {\n        this.errorInfo = \"请输入账号\"\n      } else {\n        if(this.loginForm.loginPasswd === \"\"){\n          this.errorInfo = \"请输入密码\"\n        } else {\n          this.$axios.post('/loginUser', {\n            userName: this.loginForm.loginName,\n            password: this.$md5(this.$md5(this.loginForm.loginPasswd)+this.saltData)\n          })\n              .then(successResponse => {\n                if (successResponse.data.loginState === 200) {\n                  this.urlClick()\n                } else {\n                  this.errorInfo = \"账号密码错误\";\n                }\n              })\n              .catch(failResponse => {\n                this.errorInfo = \"服务器异常，请稍后\";\n              })\n        }\n      }\n    },\n    clearError() {\n      this.errorInfo = \"\";\n    },\n  }\n};\n</script>\n\n<style scoped>\n#login-page {\n  background: url(\"../assets/bg.jpeg\") no-repeat;\n  background-position: center;\n  height: 100%;\n  width: 100%;\n  background-size: cover;\n  position: fixed;\n}\n\n.login-container {\n  border-radius: 15px;\n  background-clip: padding-box;\n  margin: 90px auto;\n  width: 350px;\n  padding: 35px 35px 15px 35px;\n  background: #f7fad8;\n}\n\n.login_title {\n  margin: 0 auto 40px auto;\n  text-align: center;\n  color: #000000;\n}\n\n.showError {\n  color: red;\n  font-size: 16px;\n}\n</style>\n\n"]},"metadata":{},"sourceType":"module"}